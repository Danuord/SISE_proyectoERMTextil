<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="../favicon.ico">
    <title>Registro de pagos | TextileFlow</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../css/modules/pagos.css">
</head>

<body>
    <div class="layout">
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h1><i class="fas fa-shirt"></i> TextileFlow</h1>
                <p>ERP Textil</p>
            </div>

            <ul class="sidebar-menu">
                <li><a href="dashboard.html"><i class="fas fa-home"></i> Inicio</a></li>
                <li><a href="#"><i class="fas fa-industry"></i> RR HH </a></li>
                <li><a href="#"><i class="fas fa-boxes"></i> Inventario</a></li>
                <li><a href="pagos.html"><i class="fa-solid fa-cash-register"></i> Pagos</a></li>
                <li><a href="#"><i class="fa-brands fa-sellsy"></i>Ventas</a></li>
                <li><a href="#"><i class="fas fa-users"></i> Mi perfil</a></li>
                <li><a href="#"><i class="fas fa-chart-bar"></i> Reportes</a></li>
                <li><a href="#"><i class="fas fa-cog"></i> Configuraci칩n</a></li>
            </ul>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-name" id="userNameDisplay">Admin</div>
                    <div class="user-role" id="userRoleDisplay">Rol</div>
                </div>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Cerrar Sesi칩n
                </button>
            </div>
        </aside>
      
        <main class="main-content">
            <div class="header">
                <div>
                    <h1>Registro de pagos</h1>
                    <p>Resumen y gesti칩n de los pagos</p>
                </div>
            </div>

            <div class="cards-grid">
                <div class="card">
                    <h3>游닍 Salario proyectado</h3>
                    <div class="value">1200</div>
                    <div class="unit">Diciembre</div>
                </div>
                <div class="card">
                    <h3>丘멆잺 Salario neto</h3>
                    <div class="value">1350</div>
                    <div class="unit">Diciembre</div>
                </div>
                <div class="card">
                    <h3>游낈 Gr치ficos</h3>
                </div>
            </div>

            <div class="button-actions">
                <button id="filterBtn" class="btn btn-secondary"><i class="fas fa-filter"></i> Filtrar</button>
                <button id="addUserBtn" class="btn btn-primary"><i class="fas fa-plus"></i> Registrar usuario</button>                                
                <button id="editUserPlanilla" class="btn btn-primary"><i class="fas fa-plus"></i> Editar datos planilla</button>                
                <button id="addSalaryBtn" class="btn btn-primary"><i class="fas fa-plus"></i> Registrar nuevo salario</button>
            </div>

            <div class="table-container">
                <table id="salaryTable">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Cargo</th>
                            <th>Salario b치sico</th>
                            <th>Bonificaciones</th>
                            <th>Deducciones</th>
                            <th>Salario Neto</th>
                            <th>Mes</th>
                            <th>Acci칩n</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
            
            <div id="addSalaryModal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&larr; Regresar</span>
                    <h2>Agregar nuevo salario</h2>

                    <form id="addSalaryForm">
                        <label for="employeeSelect">Empleado</label>
                        <select id="employeeSelect">
                            <option value="">Seleccione empleado</option>
                        </select>

                        <label for="salaryInput">Salario</label>
                        <div class="input-with-edit">
                            <input type="number" id="salaryInput" disabled>
                            <button type="button" id="editSalaryBtn">Editar</button>
                        </div>

                        <select id="periodo_pago">
                            <option value="">Selecciona un periodo</option>
                        </select>

                        <label for="bonusInput">Bonificaciones</label>
                        <input type="number" id="bonusInput" placeholder="0">

                        <label for="deductionsInput">Deducciones</label>
                        <input type="number" id="deductionsInput" placeholder="0">

                        <label for="commentInput">Comentario</label>
                        <textarea id="commentInput" placeholder="Opcional"></textarea>

                        <button type="submit" class="btn btn-primary">Registrar Pago</button>
                    </form>
                </div>
            </div>
            
            <div id="addUserModal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&larr; Regresar</span>
                    <h2>Registrar nuevo usuario</h2>

                    <form id="addUserForm">
                        <!-- Nombre -->
                        <label for="firstNameInput">Nombres</label>
                        <input type="text" id="firstNameInput" placeholder="Ingrese primer nombre" required>

                        <!-- Apellido -->
                        <label for="lastNameInput">Apellidos</label>
                        <input type="text" id="lastNameInput" placeholder="Ingrese primer apellido" required>

                        <!-- Documento -->
                        <label for="documentInput">Documento</label>
                        <input type="text" id="documentInput" placeholder="Ingrese el documento" required>

                        <!-- Correo -->
                        <label for="emailInput">Correo electr칩nico</label>
                        <input type="email" id="emailInput" placeholder="correo@empresa.com" required>

                        <!-- Contrase침a -->
                        <label for="passwordInput">Contrase침a</label>
                        <input type="password" id="passwordInput" placeholder="Ingrese contrase침a" required>

                        <!-- Rol -->
                        <label for="roleSelect">Rol</label>
                        <select id="roleSelect" required>
                            <option value="">Seleccione un rol</option>
                            <option value="Administrador">Administrador</option>
                            <option value="Empleado">Empleado</option>
                            <option value="Manager">Manager</option>
                        </select>

                        <!-- Tel칠fono -->
                        <label for="phoneInput">Tel칠fono</label>
                        <input type="text" id="phoneInput" placeholder="Opcional">

                        <button type="submit" class="btn btn-primary">Registrar usuario</button>
                    </form>
                </div>
            </div>

            <div id="editSalaryModal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&larr; Regresar</span>
                    <h2 id="editModalTitle">Editar salario: Nombre del empleado</h2>

                    <form id="editSalaryForm">
                        <label for="editSalaryInput">Salario</label>
                        <input type="number" id="editSalaryInput">

                        <label for="editBonusInput">Bonificaciones</label>
                        <input type="number" id="editBonusInput">

                        <label for="editDeductionsInput">Deducciones</label>
                        <input type="number" id="editDeductionsInput">

                        <button type="submit" class="btn btn-primary">Guardar cambios</button>
                    </form>
                </div>
            </div>

            <div id="editUserPlanillaModal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&larr; Regresar</span>
                    <h2>Editar planilla</h2>

                    <form id="editPlanillaForm">
                        <label for="employeeSelectPlanilla">Empleado</label>
                        <select id="employeeSelectPlanilla">
                            <option value="">Seleccione empleado</option>
                        </select>

                        <label for="salaryInputPlanilla">Salario</label>
                        <div class="input-with-edit">
                            <input type="number" id="salaryInputPlanilla" enabled>
                        </div>

                        <button type="submit" class="btn btn-primary">Guardar cambios</button>
                    </form>
                </div>
            </div>

            <div id="statusMessage" class="status-message"></div>

            <footer>
                <p>&copy; 2025 TextileFlow ERP. Todos los derechos reservados.</p>
            </footer>
        </main>
    </div>
    <script type="module" src="../js/pagos.js"></script>
</body>